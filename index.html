
<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- include head -->
    

<meta charset="utf-8">
<title>blooming bridges gradually graduating</title>
<meta name="author" content="Florian Brueckner">
<meta name="description"
      content="最近のブログ投稿 Introduction to Everyware （Sep 28th, 2012） Test （Sep 28th, 2012） &laquo; 過去の記事 最近のつぶやき &mdash; twitter 読込中 &#8230; $.domReady(function(){ &hellip;">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="canonical" href="http://bloomingbridges.github.com/Sammelsurium">
<link href="/Sammelsurium/favicon.png" rel="icon">
<link href="/Sammelsurium/stylesheets/screen.css"
      media="screen, projection"
      rel="stylesheet"
      type="text/css">
<link href="/Sammelsurium/atom.xml"
      rel="alternate"
      title="blooming bridges gradually graduating"
      type="application/atom+xml">

<style type="text/css">
  header[role="banner"] hgroup h1 {
    /* font-size: 180% */
    color: #999;
  }
</style>


<script src="/Sammelsurium/javascripts/modernizr-2.0.js" type="text/javascript"></script>
<script src="/Sammelsurium/javascripts/ender.js" type="text/javascript"></script>
<script src="/Sammelsurium/javascripts/octopress.js" type="text/javascript"></script>



    <!-- /include -->
  </head>
  <body>
    <div id="wrapper">

      <header role="banner" class="site_metas">
	<!-- include header -->
	
<hgroup>
  <h1><a href="/Sammelsurium/">blooming bridges gradually graduating</a></h1>
  
  <h2>Final Year Digital Art and Technology Blog</h2>
  
</hgroup>

	<!-- /include -->
        <!-- include social_service_links -->
	
<div id="social-links">
  <ul>
    <li id="social-links-github">
      <a title="GitHub" href="https://github.com/bloomingbridges">github</a>
    </li>
    <li id="social-links-twitter">
      <a title="twitter" href="http://twitter.com/bloomingbridges">twitter</a>
    </li>
    <li id="social-links-tumblr">
      <a title="tumblr" href="http://bloomingbridges.tumblr.com/">tumblr</a>
    </li>
    <li id="social-links-feed">
      <a title="feed" href="http://bloomingbridges.github.com/Sammelsurium/atom.xml">feed</a>
    </li>
  </ul>
</div>


        <!-- /include -->
      </header>

      <div id="content">
	<!-- content -->
	<div id="page">
  <div id="top">

  <div id="recent_posts">
    <h2>最近のブログ投稿</h2>

    <ul>
    
      <li>
        <article>
          <a rel="full-article" href="/Sammelsurium/blog/2012/09/28/introduction-to-everyware/">Introduction to Everyware</a>
          （<time datetime="2012-09-28 18:54:00 +0100" pubdate>Sep 28<span>th</span>, 2012</time>）
        </article>
      </li>
    
      <li>
        <article>
          <a rel="full-article" href="/Sammelsurium/blog/2012/09/28/test/">Test</a>
          （<time datetime="2012-09-28 18:28:00 +0100" pubdate>Sep 28<span>th</span>, 2012</time>）
        </article>
      </li>
    
    </ul>

    <p><a href="/Sammelsurium/blog/archives">&laquo; 過去の記事</a></p>

  </div>


  <!-- include asides.html -->
  
  

<section>
  <h2>
    最近のつぶやき 
    &mdash;
    <a href="http://twitter.com/bloomingbridges">twitter</a>
  </h2>
  <ul id="tweets">
    <li class="loading">読込中 &#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("bloomingbridges", 1, false);
    });
  </script>
  <script src="/Sammelsurium/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/bloomingbridges" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @bloomingbridges</a>
  
</section>







<section>
  <h2>
    スクラップ帳
    &mdash;
    <a href="http://bloomingbridges.tumblr.com">tumblr</a>
  </h2>
  <p id="tumblr_photos">
    <span class="loading">読込中 &#8230;</span>
  </p>
  <script type="text/javascript">

function renderTubmlrPhotos(photos){

  var COLMUN_NUM = 3;
  var targetElementId = "tumblr_photos";
  var colmunIdPrefix = "tumblr_photos_colmun";
  var colmunClass = "tumblr_photo_colmun";
  var predicateHeights = {};
  var imgWidth = 200;

  function write(str){
    var target = $('#'+targetElementId);
    if(!target){
      return;
    }else{
      target = target[0];
    }
    target.innerHTML = str;
  }

  function createColumn(){
    var html = '';
    var style = 'float:left;width:233px'; // 700px / 3
    for(var i=0; i < COLMUN_NUM; i++){
      var id = colmunIdPrefix+i;
      html += '<div id="'+id+'" class="'+colmunClass+'" style="'+style+'">'
              +'<div style="clear:both;"></div>'
              +'</div>';
    }
    html += '<div style="clear:both;"></div>';
    write(html);
  }

  var clearDiv = $('<div style="clear:both;"></div>');
  function getLowestColmun(){
    var minHeight = 10000;
    var lowestColmun;
    //console.log('--')
    for(var i=0; i < COLMUN_NUM; i++){
      var colmun = $('#'+colmunIdPrefix+i);
      //console.log('#'+colmunIdPrefix+i,colmun, colmun.height());
      var height = predicateHeights[colmun.attr('id')];
      if(!height){ height = 0; }
      // console.log(height);
      if(colmun && height < minHeight){
        minHeight = height;
        lowestColmun = colmun;
      }
    }
    return lowestColmun;
  }

  function rendPhotos(){
    var astyle = 'display:block;padding:5px;text-decoration:none;margin:5px;float:left';
    var ps = photos.response.posts;
    for(var i=0; ps.length > i; i++){
      if(!(ps[i].photos &&
           ps[i].photos[0] &&
           ps[i].photos[0].alt_sizes)){
        continue;
      }
      //console.log(ps[i]);
      var minAltSize =
        getMinWidthAltSizePhotoWiderThan(ps[i].photos[0].alt_sizes, imgWidth);
      if(!minAltSize){continue;}

      var imgUrl = minAltSize.url;
      var postUrl = ps[i].post_url;
      var colmun = getLowestColmun();
      var date = new Date(ps[i].date);

      if(!predicateHeights[colmun.attr('id')]){
        predicateHeights[colmun.attr('id')] = 0;
      }
      predicateHeights[colmun.attr('id')] = 
        predicateHeights[colmun.attr('id')] +
        (minAltSize.height * minAltSize.width / imgWidth);
      // console.log(colmun.attr('id'), predicateHeights[colmun.attr('id')], (minAltSize.height * minAltSize.width / imgWidth));

      $('<a title="daftbeats\'s tumblr - '+date.toLocaleString()+'" style="'+astyle+'" href="'+postUrl+'"><img src="'+imgUrl+'" width="'+imgWidth+'" /></div>').insertBefore(colmun.children().last());
    }
  }

  function getMinWidthAltSizePhotoWiderThan(alt_sizes, threashold){
    if(!alt_sizes) {return null;}
    var minWidth = 10000;
    var minAltSize;
    for(var i=0; i < alt_sizes.length; i++){
      if (alt_sizes[i] &&
          alt_sizes[i].width > threashold &&
          alt_sizes[i].width < minWidth){
        minWidth = alt_sizes[i].width;
        minAltSize = alt_sizes[i];
      }
    }
    if(!minAltSize){
      return alt_sizes[0];
    }
    return minAltSize;
  }

  if(!(photos && photos.meta && photos.response && photos.response.posts &&
       photos.response.posts)){
    write('unexpected response');
    console.log(photos);
    return;
  }else if(photos.meta.status != 200){
    write(photos.meta.status+': '+photos.meta.msg);
    return;
  }

  createColumn();

  rendPhotos();
}

  </script>
  <script src="http://api.tumblr.com/v2/blog/bloomingbridges.tumblr.com/posts/photo?api_key=U6PPqZTbPo5fe2urVC7nggWSnQKixgs92DVoTHXUnbuA3L6qpx&limit=12&jsonp=renderTubmlrPhotos"  type="text/javascript"></script>
</section>





  <!-- /include asides.html -->

</div>

</div>

	<!-- /content -->
      </div>

      <footer role="contentinfo">
	<!-- include footer -->
	<p>
  Copyright &copy; 2012 - Florian Brueckner -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

	<!-- /include -->
      </footer>
      
      <!-- include after_footer -->
      







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




      <!-- /include -->

    </div>
  </body>
</html>
